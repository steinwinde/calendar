<template>
    <div lwc:ref="container">
        <template lwc:if={isYear}>
            <c-calendar-year
                calendar-data={calendarData}
                ondayclick={handleDayClick}
                date={date}
            ></c-calendar-year>
        </template>
        <template lwc:else>
            <div class={classWeekDayRow}>
                <!-- upper left corner -->
                <div lwc:if={leftColumn}>&nbsp;</div>
                <!-- names of weekdays -->
                <template if:true={weekdays} for:each={weekdays} for:item="weekday">
                    <div key={weekday.index} class="top-row-element">
                        {weekday.name}<template if:true={isWeek}>&nbsp;<!-- TODO: show day in month --></template>
                    </div>
                </template>
            </div>
            <div class={classCalendarRows} lwc:ref="scrollarea">
                <template for:each={weeks} for:item="week">
                    <c-calendar-week
                        class={classScrolledArea}
                        configuration={configuration}
                        key={week.index}
                        ondayclick={handleDayClick}
                        ondrop={handleOnDrop}
                        onpartclick={handlePartClick}
                        onpartdoubleclick={handlePartDoubleClick}
                        onpartshiftclick={handlePartShiftClick}
                        week={week}
                    ></c-calendar-week>
                </template>
            </div>
        </template>
    </div>
</template>